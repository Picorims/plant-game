<!-- Plant is a 2 players strategy game, where the goal is to take as much space as possible on the terrain with a plant by making it growing.
    
Copyright (c) 2018-2021 Picorims<picorims.contact@gmail.com> and Cirno, France. All rights reserved.

Licensed under the GNU Affero General Public License version 3.0 (GNU AGPL v3.0).
More information about the license at LICENSE.txt to the root of the program. If it is missing, see <https://www.gnu.org/licenses/>.
A full notice can be found at NOTICE.txt to the root of the program,
and you should see README.txt as well for other information. -->

<!-- PLANT GAME HTML BASE STRUCTURE, INCLUDES CSS AND JS SCRIPTS CALLS AND REFERENCE. DO NOT INCLUDE <canvas> ELEMENTS, THEY'RE GENERATED BY SCRIPTS -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Plant Beta 0.1.0(b7)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" media="all" type="text/css" href="css/main.css" />
    <script src="js/libraries/p5/p5.min.js" type="text/javascript"></script>
    <script src="js/libraries/p5/addons/p5.sound.min.js" type="text/javascript"></script>
    <script src="js/mathematic_methods.js" type="text/javascript" charset="UTF-8"></script>
    <script src="main.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/p5_canvas.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="js/sub_main.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/init_events.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/menu.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/background.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/audio.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/game.js" type="text/javascript" charset="UTF-8"></script>
</head>
<body onload="setTimeout(function() {GlobalInit();}, 1000)">
    <div id="fps_display"></div>
    
    
    
    <!--LOADING SCREEN SCENE-->
    <div id="loading_screen" class="scene">
        <div id="loading_item">
            <div class="LA_ball_vertical_anim" id="LA_ball_vertical_anim_1">
                <div class="LA_ball_horizontal_anim" id="LA_ball_horizontal_anim_1">
                    <div class="LA_ball" id="LA_ball_1" style="opacity:0"></div>
                </div>
            </div>
            <div class="LA_ball_vertical_anim" id="LA_ball_vertical_anim_2">
                <div class="LA_ball_horizontal_anim" id="LA_ball_horizontal_anim_2">
                    <div class="LA_ball" id="LA_ball_2" style="opacity:0"></div>
                </div>
            </div>
        </div>
        <div id="init_message_container"></div>
        <h1 id="init_message"></h1>
    </div>



    <!--BACKGROUND GRAPHISM HANDLER-->
    <div id="background_graphism_handler">
        <div id="shadow_effect"></div>
    </div>




    <!--SVG FILTERS-->
    
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="filters" id="svg_filters">
        <defs>

            <!--HORIZONTAL BLUR FILTER FOR GOD RAYS (because classic blur also act on canvas borders which is not esthetic)-->
            <filter id="horizontal_blur">
                <feGaussianBlur in="SourceGraphic" stdDeviation="0,0" />
            </filter>

            <!--YELLOW OUTLINE FOR BUTTONS-->
            <filter id="yellow_outline">
                <feMorphology operator="dilate" radius="2" in="SourceAlpha" result="THICKEN" /> <!--outline-->
                <feFlood flood-color="#f5e274" result="COLOR" /> <!--outline color-->
                <feComposite in="COLOR" in2="THICKEN" operator="in" result="COLORED_THICKEN" /> <!--apply outile color-->
                <feMerge result="OUTLINE"> <!--merge to source-->
                    <feMergeNode in="COLORED_THICKEN" />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>

            <!--GRAY TO GREEN-->
            <filter id="duotone-green">
                <!-- Grab the SourceGraphic (implicit) and convert it to grayscale -->
                <feColorMatrix type="matrix" values=".33 .33 .33 0 0
                    .33 .33 .33 0 0
                    .33 .33 .33 0 0
                    0 0 0 1 0">
                </feColorMatrix>
    
                <!-- Map the grayscale result to the gradient map provided in tableValues -->
                <feComponentTransfer color-interpolation-filters="sRGB" result="duotone">
                    <feFuncR type="table" tableValues="0.011764705882352941  0.29411764705882354  0.9882352941176471"></feFuncR> <!--black / white-->
                    <feFuncG type="table" tableValues="0.10980392156862745  0.9529411764705882  0.9490196078431372"></feFuncG> <!--3, 28, 23 | 18, 230, 75 | 160, 247, 141-->
                    <feFuncB type="table" tableValues="0.09019607843137255  0.29411764705882354  0.7411764705882353"></feFuncB>
                    <feFuncA type="table" tableValues="0 1"></feFuncA>
                </feComponentTransfer>
            </filter>
    
            <!--GRAY TO BLUE-->
            <filter id="duotone-blue">
                <!-- Grab the SourceGraphic (implicit) and convert it to grayscale -->
                <feColorMatrix type="matrix" values=".33 .33 .33 0 0
                    .33 .33 .33 0 0
                    .33 .33 .33 0 0
                    0 0 0 1 0">
                </feColorMatrix>
    
                <!-- Map the grayscale result to the gradient map provided in tableValues -->
                <feComponentTransfer color-interpolation-filters="sRGB" result="duotone">
                    <feFuncR type="table" tableValues="0.0196078431372549  0.21176470588235294  0.9607843137254902"></feFuncR> <!--black / white-->
                    <feFuncG type="table" tableValues="0.08627450980392157  0.7098039215686275  1"></feFuncG> <!--5, 22, 51 | 54, 181, 255 | 163, 229, 255-->
                    <feFuncB type="table" tableValues="0.2                  1                   1"></feFuncB>
                    <feFuncA type="table" tableValues="0 1"></feFuncA>
                </feComponentTransfer>
            </filter>

            <!--PREVIEW TILE FILTER-->
            <filter id="preview_tile">
                <!-- COLOR -->
                <feFlood flood-color="#f6f6f6" result="COLOR"></feFlood>
                <!-- FILLED -->
                <feComposite in="COLOR" in2="SourceAlpha" operator="in" result="FILLED"></feComposite>
                <!-- 96f5a307-d6f2-4dee-8956-17c9c47dd29d -->
                <feColorMatrix in="FILLED" result="96f5a307-d6f2-4dee-8956-17c9c47dd29d" values="
                1 0 0 0 0,
                0 1 0 0 0,
                0 0 1 0 0,
                0 0 0 0.7 0"></feColorMatrix><!--4th value of last line equals output opacity-->
            </filter>

            <filter id="fill_main_lighter_white">
                <!-- COLOR -->
                <feFlood flood-color="#eeead1" result="COLOR"></feFlood>
                <!-- FILLED -->
                <feComposite in="COLOR" in2="SourceAlpha" operator="in"></feComposite>
            </filter>

        </defs>
    </svg>




    <!--MAIN MENU SCENE-->
    <div id="main_menu" class="scene">
        <div id="game_logo_container">
            <object id="game_logo_object" type="image/svg+xml" data="assets/textures/plant_logo.svg">
                plant_logo.svg
            </object>
        </div>
        
        <div id="main_menu_buttons_container">
            <button id="play_button" class="main_menu_button leave_button big_leave_button main_menu_btn_left" onclick="Play();"></button>
            <button id="tutorial_and_rules_button" class="main_menu_button leave_button big_leave_button main_menu_btn_right" onclick="TutorialAndRules();"></button>
            <button id="options_button" class="main_menu_button leave_button big_leave_button main_menu_btn_left" onclick="Options();"></button>
            <button id="credits_button" class="main_menu_button leave_button big_leave_button main_menu_btn_right" onclick="Credits();"></button>
            <button id="changelog_button" class="main_menu_button leave_button big_leave_button main_menu_btn_left" onclick="Changelogs();"></button>
            <button id="exit_button" class="main_menu_button leave_button big_leave_button main_menu_btn_right" onclick="ConfirmQuit();"></button>
        </div>
    </div>



    <!--QUIT WARNING MENU SCENE-->
    <div id="quit_warning_menu" class="scene overlay_scene">
        <div id="warning_menu_container" class="light_blur_background">
            <span id="quit_msg"></span></br>
            <button id="quit_cancel_button" class="quit_button leave_button small_leave_button" onclick="CancelQuit();"></button>    
            <button id="quit_confirm_button" class="quit_button leave_button small_leave_button" onclick="Quit();"></button>
        </div>
    </div>



    <!--TUTORIAL SCENE-->
    <div id="tutorial" class="scene">
        <!-- Main div for slides and text -->
        <div id="slideshow" class="light_blur_background">
            <!-- Each div contains different slide and text -->
            <div class="slide">
                <img src="711493.jpg">
                <div class="page_number">1 / 5</div>
                <p class="slide_text">lorem ipsum</p>
            </div>

            <div class="slide">
                <img src="2210440-bigthumbnail.jpg">
                <div class="page_number">2 / 5</div>
                <p class="slide_text">lorem ipsum</p>
            </div>

            <div class="slide">
                <img src="D_mCj32XUAEoPx-.jpg">
                <div class="page_number">3 / 5</div>
                <p class="slide_text">lorem ipsum</p>
            </div>

            <div class="slide">
                <img src="jsplus.jpg">
                <div class="page_number">4 / 5</div>
                <p class="slide_text">lorem ipsum</p>
            </div>

            <div class="slide">
                <img src="miku.jpg">
                <div class="page_number">5 / 5</div>
                <p class="slide_text">lorem ipsum</p>
            </div>

            <!-- Buttons to switch page -->
            <div id="slide_buttons">
                <button id="prev_slide_button" class="leave_button small_leave_button" onclick="NextSlide(-1)"></button>
                <button id="next_slide_button" class="leave_button small_leave_button" onclick="NextSlide(1)"></button>    
            </div>

        </div>
        </br>

        <!-- Div which contains clickable objects to go on a specific page -->
        <div id="dot_container">
            <span class="slide_dot log_circle yellow_outline" onclick="SelectSlide(1)"></span>
            <span class="slide_dot log_circle yellow_outline" onclick="SelectSlide(2)"></span>
            <span class="slide_dot log_circle yellow_outline" onclick="SelectSlide(3)"></span>
            <span class="slide_dot log_circle yellow_outline" onclick="SelectSlide(4)"></span>
            <span class="slide_dot log_circle yellow_outline" onclick="SelectSlide(5)"></span>
        </div>


        <button id="tutorial_to_main_button" class="main_menu_button leave_button big_leave_button" onclick="QuitTutorialAndRules();"></button>

    </div>



    <!--OPTIONS MENU SCENE-->
    <div id="options_menu" class="scene">
        <div class="option_container">
            <span id="language_option_title" class="option_title"></span>
            <select id="select_language" class="option_item choice_selector">
                <option value="1" id="en_language" selected>English</option>
                <option value="2" id="fr_language">Français</option>
            </select>
        </div>

        <div class="option_container">
            <span id="low_graphics_option_title" class="option_title"></span>
            <label class="switch">
                <input type="checkbox" id="graphics_mode">
                <span class="slider option_item"></span>
            </label>
        </div>

        <div class="option_container">
            <span id="music_option_title" class="option_title"></span>
            <input class="range option_item" type="range" min="0" max="1" value="1" step="0.01" id="music_slider">
        </div>

        <div class="option_container">
            <span id="sound_option_title" class="option_title"></span>
            <input class="range option_item" type="range" min="0" max="1" value="1" step="0.01" id="sound_slider">
        </div>

        <div class="option_container light_blur_background" id="controls_option_container">
            <div id="controls_title_container" class="credits_title_container">
                <span id="controls_option_title" class="credits_title"></span>
            </div>
            <div id="controls_container">
                <span id="control_left_msg" class="controls_name controls_grid_left"></span>
                <button id="control_left" class="leave_button small_leave_button controls_button controls_grid_right"></button>
                <hr class="horizontal_separator controls_grid_full"/>
                <span id="control_right_msg" class="controls_name controls_grid_left"></span>
                <button id="control_right" class="leave_button small_leave_button controls_button controls_grid_right"></button>
                <hr class="horizontal_separator controls_grid_full"/>
                <span id="control_down_msg" class="controls_name controls_grid_left"></span>
                <button id="control_down" class="leave_button small_leave_button controls_button controls_grid_right"></button>
                <hr class="horizontal_separator controls_grid_full"/>
                <span id="control_up_msg" class="controls_name controls_grid_left"></span>
                <button id="control_up" class="leave_button small_leave_button controls_button controls_grid_right"></button>
                <hr class="horizontal_separator controls_grid_full"/>
                <span id="control_validate_msg" class="controls_name controls_grid_left"></span>
                <button id="control_validate" class="leave_button small_leave_button controls_button controls_grid_right"></button>
                <hr class="horizontal_separator controls_grid_full"/>

                <button id="default_controls" class="leave_button small_leave_button controls_grid_full"></button>
            </div>
        </div>

        <button id="options_to_main_button" class="main_menu_button leave_button big_leave_button" onclick="QuitOptions();"></button>
        <button id="reset_settings_button" class="main_menu_button leave_button big_leave_button" onclick="ResetSettings();"></button>
    </div>

    

    <!--CREDITS SCENE-->
    <div id="credits" class="scene overlay_scene">
        <div id="credits_window" class="light_blur_background">
            <div id="game_version">Beta 0.1.0(b7)</div>
            <div id="close_credits_button" class="yellow_outline" onclick="CloseCredits();">X</div><!--window closer-->


            <div class="credits_title_container">
                <span id="credits_dev" class="credits_title"></span>
            </div>
            <p id="credits_dev_content" class="credits_text"></p>


            <div class="credits_title_container">
                <span id="credits_graphism" class="credits_title"></span>
            </div>
            <p id="credits_graphism_content" class="credits_text"></p>


            <div class="credits_title_container">
                <span id="credits_music" class="credits_title"></span>
            </div>
            <p id="credits_music_content" class="credits_text"></p>


            <div class="credits_title_container">
                <span id="credits_sfx" class="credits_title"></span>
            </div>
            <p id="credits_sfx_content" class="credits_text"></p>


            <div class="credits_title_container">
                <span id="credits_libraries" class="credits_title"></span>
            </div>
            <p id="credits_libraries_content" class="credits_text"></p>


            <div class="credits_title_container">
                <span id="credits_notice" class="credits_title"></span>
            </div>
            <p class="credits_text">
                Plant is a 2 players strategy game, where the goal is to take as much space as possible on the terrain with a plant by making it growing.
                </br>
                </br>Copyright © 2018-2021 Picorims<picorims.contact@gmail.com> and Cirno, France. All rights reserved.
                </br>
                </br>Licensed under the GNU Affero General Public License version 3.0 (GNU AGPL v3.0).
                </br>More information about the license at <a onclick="DispLicense();">LICENSE.md</a> to the root of the program. If it is missing, see <!--<a href="https://www.gnu.org/licenses/">-->"https://www.gnu.org/licenses/"<!--</a>-->.
                </br>A full notice can be found at <a onclick="DispNotice();">NOTICE.md</a> to the root of the program,
                </br>and you should see <a onclick="DispReadMe();">README.md</a> as well for other information.
            </p>


        </div>
    </div>


    
    <!--GAME SCENE-->
    <div id="game_content" class="scene">

        <div id="player1_interface" class="interface player1_interface light_blur_background">

            <h1 id="interface1_title" class="interface_title"></h1>

            <label class="interface_subtitle score_subtitle" for="player1_score"></label><span class="interface_data_display" id="player1_score"></span>
            </br><label class="interface_subtitle movements_subtitle" for="player1_movements"></label><span class="interface_data_display" id="player1_movements"></span><button id='player1_movements_button' class="side_interface_button player1_interface get_button" onclick="GetRandomMovement(1);"></button>
            </br><label class="interface_subtitle victories_subtitle" for="player1_wins"></label><span class="interface_data_display" id="player1_wins"></span>
            <p class="interface_data_display" id="player1_game_result"></p>

        </div>

        <div id="game_frame">
            <div id="game_layers_handler">
                <div id="tiles_container"></div>
                <!-- P5.JS CANVAS CREATION GOES HERE -->
            </div>
            <div class="grid_border border_top"></div>
            <div class="grid_border border_left"></div>
            <div class="grid_border border_right"></div>
            <div class="grid_border border_bottom"></div>
            <div class="grid_corner corner_top_L"></div>
            <div class="grid_corner corner_top_R"></div>
            <div class="grid_corner corner_bottom_L"></div>
            <div class="grid_corner corner_bottom_R"></div>
        </div>

        <div id="player2_interface" class="interface player2_interface light_blur_background">

            <h1 id="interface2_title" class="interface_title"></h1>

            <label class="interface_subtitle score_subtitle" for="player2_score"></label><span class="interface_data_display" id="player2_score"></span>
            </br><label class="interface_subtitle movements_subtitle" for="player2_movements"></label><span class="interface_data_display" id="player2_movements"></span><button id='player2_movements_button' class="side_interface_button player2_interface get_button" onclick="GetRandomMovement(2);"></button>
            </br><label class="interface_subtitle victories_subtitle" for="player2_wins"></label><span class="interface_data_display" id="player2_wins"></span>
            <p class="interface_data_display" id="player2_game_result"></p>

        </div>

        <div id="bottom_interface" class="interface light_blur_background">

            <div class="bottom_interface_side bottom_interface_side_left">
                <button id="start_game_button" class="leave_button big_leave_button" onclick="StartGame()"></button>
                <button id="new_game_button" class="leave_button big_leave_button" onclick="ResetGame()"></button>
                <button id="back_to_menu_button" class="leave_button big_leave_button" onclick="ToMenu()"></button> 
                
                <div id="turn_container">
                    <label class="interface_subtitle turn_subtitle" for="turn"></label><span class="interface_data_display" id="turn"></span>
                </div>
            </div>
            <div class="bottom_interface_side bottom_interface_side_right">
                <label class="interface_subtitle msg_subtitle" for="message"></label>
                <span class="interface_data_display" id="message"></span>
            </div>
        
        </div>

    </div>
    
    
    
    <div id="bottom">
        <p>Copyright © 2018-2021 Picorims and Cirno, France. All rights reserved.</p>
    </div>
</body>
</html>